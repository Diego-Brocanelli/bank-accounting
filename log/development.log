Started POST "/accounts/deposit/1/2" for 127.0.0.1 at 2018-03-19 15:36:07 -0300
Processing by AccountsController#deposit as */*
  Parameters: {"amount"=>"10", "source_account_id"=>"1", "destination_account_id"=>"2"}
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE (id = 1)[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE (id = 2)[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAccount Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "accounts" WHERE "accounts"."number" = ? AND ("accounts"."id" != ?) LIMIT ?[0m  [["number", "6008/02020"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (4.2ms)[0m  [1m[33mUPDATE "accounts" SET "balance" = ?, "updated_at" = ? WHERE "accounts"."id" = ?[0m  [["balance", 50020.0], ["updated_at", "2018-03-19 18:36:07.418877"], ["id", 2]]
  [1m[35m (4.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAccount Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "accounts" WHERE "accounts"."number" = ? AND ("accounts"."id" != ?) LIMIT ?[0m  [["number", "5007/01010"], ["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "accounts" SET "balance" = ?, "updated_at" = ? WHERE "accounts"."id" = ?[0m  [["balance", 49980.0], ["updated_at", "2018-03-19 18:36:07.431715"], ["id", 1]]
  [1m[35m (4.5ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 25ms (Views: 0.2ms | ActiveRecord: 14.6ms)


Started POST "/accounts" for 127.0.0.1 at 2018-03-19 15:36:38 -0300
Processing by AccountsController#create as */*
  Parameters: {"amount"=>"10"}
Unpermitted parameter: :amount
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAccount Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "accounts" WHERE "accounts"."number" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Completed 422 Unprocessable Entity in 9ms (Views: 0.2ms | ActiveRecord: 0.3ms)


Started POST "/accounts" for 127.0.0.1 at 2018-03-19 15:37:14 -0300
Processing by AccountsController#create as */*
  Parameters: {"amount"=>"10"}
Unpermitted parameter: :amount
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAccount Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "accounts" WHERE "accounts"."number" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
Completed 422 Unprocessable Entity in 4ms (Views: 0.2ms | ActiveRecord: 0.5ms)


Started POST "/accounts" for 127.0.0.1 at 2018-03-19 15:37:20 -0300
Processing by AccountsController#create as */*
  Parameters: {"amount"=>"10"}
Unpermitted parameter: :amount
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAccount Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "accounts" WHERE "accounts"."number" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Completed 422 Unprocessable Entity in 4ms (Views: 0.3ms | ActiveRecord: 0.5ms)


Started GET "/accounts" for 127.0.0.1 at 2018-03-19 15:37:33 -0300
Processing by AccountsController#index as */*
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.4ms)


Started POST "/accounts/deposit/1/2" for 127.0.0.1 at 2018-03-19 15:37:53 -0300
Processing by AccountsController#deposit as */*
  Parameters: {"amount"=>"500", "source_account_id"=>"1", "destination_account_id"=>"2"}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE (id = 1)[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE (id = 2)[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAccount Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "accounts" WHERE "accounts"."number" = ? AND ("accounts"."id" != ?) LIMIT ?[0m  [["number", "6008/02020"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "balance" = ?, "updated_at" = ? WHERE "accounts"."id" = ?[0m  [["balance", 50520.0], ["updated_at", "2018-03-19 18:37:53.046593"], ["id", 2]]
  [1m[35m (4.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAccount Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "accounts" WHERE "accounts"."number" = ? AND ("accounts"."id" != ?) LIMIT ?[0m  [["number", "5007/01010"], ["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "balance" = ?, "updated_at" = ? WHERE "accounts"."id" = ?[0m  [["balance", 49480.0], ["updated_at", "2018-03-19 18:37:53.055114"], ["id", 1]]
  [1m[35m (4.5ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 20ms (Views: 0.1ms | ActiveRecord: 10.4ms)


Started POST "/accounts/deposit/1/2" for 127.0.0.1 at 2018-03-19 15:39:01 -0300
Processing by AccountsController#deposit as */*
  Parameters: {"amount"=>"500", "source_account_id"=>"1", "destination_account_id"=>"2"}
Completed 200 OK in 1ms (Views: 0.2ms)


Started POST "/accounts/deposit/1/2" for 127.0.0.1 at 2018-03-19 15:39:23 -0300
Processing by AccountsController#deposit as */*
  Parameters: {"amount"=>"500", "source_account_id"=>"1", "destination_account_id"=>"2"}
Completed 500 Internal Server Error in 3ms


  
NameError (undefined local variable or method `source' for #<Bank::Actions:0x00000003940f68>
Did you mean?  id_source):
  
app/models/bank.rb:7:in `deposit'
app/controllers/accounts_controller.rb:48:in `deposit'
Started POST "/accounts/deposit/1/2" for 127.0.0.1 at 2018-03-19 15:39:41 -0300
Processing by AccountsController#deposit as */*
  Parameters: {"amount"=>"500", "source_account_id"=>"1", "destination_account_id"=>"2"}
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE (id = 1)[0m
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.4ms)


Started POST "/accounts/deposit/1/2" for 127.0.0.1 at 2018-03-19 15:40:05 -0300
Processing by AccountsController#deposit as */*
  Parameters: {"amount"=>"500", "source_account_id"=>"1", "destination_account_id"=>"2"}
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE (id = 1)[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE (id = 2)[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAccount Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "accounts" WHERE "accounts"."number" = ? AND ("accounts"."id" != ?) LIMIT ?[0m  [["number", "6008/02020"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "balance" = ?, "updated_at" = ? WHERE "accounts"."id" = ?[0m  [["balance", 51020.0], ["updated_at", "2018-03-19 18:40:05.299081"], ["id", 2]]
  [1m[35m (4.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAccount Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "accounts" WHERE "accounts"."number" = ? AND ("accounts"."id" != ?) LIMIT ?[0m  [["number", "5007/01010"], ["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "accounts" SET "balance" = ?, "updated_at" = ? WHERE "accounts"."id" = ?[0m  [["balance", 48980.0], ["updated_at", "2018-03-19 18:40:05.307796"], ["id", 1]]
  [1m[35m (4.5ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 20ms (Views: 0.3ms | ActiveRecord: 10.7ms)


Started POST "/accounts/deposit/1/2" for 127.0.0.1 at 2018-03-19 15:43:12 -0300
Processing by AccountsController#deposit as */*
  Parameters: {"amount"=>"500", "source_account_id"=>"1", "destination_account_id"=>"2"}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE (id = 1)[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE (id = 2)[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAccount Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "accounts" WHERE "accounts"."number" = ? AND ("accounts"."id" != ?) LIMIT ?[0m  [["number", "6008/02020"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "balance" = ?, "updated_at" = ? WHERE "accounts"."id" = ?[0m  [["balance", 51520.0], ["updated_at", "2018-03-19 18:43:12.313969"], ["id", 2]]
  [1m[35m (4.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAccount Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "accounts" WHERE "accounts"."number" = ? AND ("accounts"."id" != ?) LIMIT ?[0m  [["number", "5007/01010"], ["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "accounts" SET "balance" = ?, "updated_at" = ? WHERE "accounts"."id" = ?[0m  [["balance", 48480.0], ["updated_at", "2018-03-19 18:43:12.321837"], ["id", 1]]
  [1m[35m (4.5ms)[0m  [1m[36mcommit transaction[0m
Completed 500 Internal Server Error in 24ms (ActiveRecord: 10.8ms)


  
NoMethodError (undefined method `status_code' for #<Hash:0x0000000302f960>):
  
app/controllers/accounts_controller.rb:54:in `deposit'
Started POST "/accounts/deposit/1/2" for 127.0.0.1 at 2018-03-19 15:43:19 -0300
Processing by AccountsController#deposit as */*
  Parameters: {"amount"=>"500", "source_account_id"=>"1", "destination_account_id"=>"2"}
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE (id = 1)[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE (id = 2)[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAccount Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "accounts" WHERE "accounts"."number" = ? AND ("accounts"."id" != ?) LIMIT ?[0m  [["number", "6008/02020"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "accounts" SET "balance" = ?, "updated_at" = ? WHERE "accounts"."id" = ?[0m  [["balance", 52020.0], ["updated_at", "2018-03-19 18:43:19.203109"], ["id", 2]]
  [1m[35m (4.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAccount Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "accounts" WHERE "accounts"."number" = ? AND ("accounts"."id" != ?) LIMIT ?[0m  [["number", "5007/01010"], ["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "accounts" SET "balance" = ?, "updated_at" = ? WHERE "accounts"."id" = ?[0m  [["balance", 47980.0], ["updated_at", "2018-03-19 18:43:19.211115"], ["id", 1]]
  [1m[35m (4.5ms)[0m  [1m[36mcommit transaction[0m
Completed 500 Internal Server Error in 20ms (ActiveRecord: 10.6ms)


  
NoMethodError (undefined method `status_code' for nil:NilClass):
  
app/controllers/accounts_controller.rb:54:in `deposit'
Started POST "/accounts/deposit/1/2" for 127.0.0.1 at 2018-03-19 15:43:30 -0300
Processing by AccountsController#deposit as */*
  Parameters: {"amount"=>"500", "source_account_id"=>"1", "destination_account_id"=>"2"}
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE (id = 1)[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE (id = 2)[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAccount Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "accounts" WHERE "accounts"."number" = ? AND ("accounts"."id" != ?) LIMIT ?[0m  [["number", "6008/02020"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "accounts" SET "balance" = ?, "updated_at" = ? WHERE "accounts"."id" = ?[0m  [["balance", 52520.0], ["updated_at", "2018-03-19 18:43:30.126938"], ["id", 2]]
  [1m[35m (4.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAccount Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "accounts" WHERE "accounts"."number" = ? AND ("accounts"."id" != ?) LIMIT ?[0m  [["number", "5007/01010"], ["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "accounts" SET "balance" = ?, "updated_at" = ? WHERE "accounts"."id" = ?[0m  [["balance", 47480.0], ["updated_at", "2018-03-19 18:43:30.136525"], ["id", 1]]
  [1m[35m (10.6ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 27ms (Views: 0.1ms | ActiveRecord: 17.1ms)


Started POST "/accounts/deposit/1/2" for 127.0.0.1 at 2018-03-19 15:43:57 -0300
Processing by AccountsController#deposit as */*
  Parameters: {"amount"=>"500", "source_account_id"=>"1", "destination_account_id"=>"2"}
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE (id = 1)[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE (id = 2)[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAccount Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "accounts" WHERE "accounts"."number" = ? AND ("accounts"."id" != ?) LIMIT ?[0m  [["number", "6008/02020"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "accounts" SET "balance" = ?, "updated_at" = ? WHERE "accounts"."id" = ?[0m  [["balance", 53020.0], ["updated_at", "2018-03-19 18:43:57.603254"], ["id", 2]]
  [1m[35m (5.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAccount Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "accounts" WHERE "accounts"."number" = ? AND ("accounts"."id" != ?) LIMIT ?[0m  [["number", "5007/01010"], ["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "accounts" SET "balance" = ?, "updated_at" = ? WHERE "accounts"."id" = ?[0m  [["balance", 46980.0], ["updated_at", "2018-03-19 18:43:57.611916"], ["id", 1]]
  [1m[35m (4.5ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 19ms (Views: 0.2ms | ActiveRecord: 10.8ms)


Started POST "/accounts/deposit/1/2" for 127.0.0.1 at 2018-03-19 15:44:06 -0300
Processing by AccountsController#deposit as */*
  Parameters: {"amount"=>"1", "source_account_id"=>"1", "destination_account_id"=>"2"}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE (id = 1)[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE (id = 2)[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAccount Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "accounts" WHERE "accounts"."number" = ? AND ("accounts"."id" != ?) LIMIT ?[0m  [["number", "6008/02020"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "accounts" SET "balance" = ?, "updated_at" = ? WHERE "accounts"."id" = ?[0m  [["balance", 53021.0], ["updated_at", "2018-03-19 18:44:06.862780"], ["id", 2]]
  [1m[35m (4.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAccount Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "accounts" WHERE "accounts"."number" = ? AND ("accounts"."id" != ?) LIMIT ?[0m  [["number", "5007/01010"], ["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "accounts" SET "balance" = ?, "updated_at" = ? WHERE "accounts"."id" = ?[0m  [["balance", 46979.0], ["updated_at", "2018-03-19 18:44:06.871752"], ["id", 1]]
  [1m[35m (4.6ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 19ms (Views: 0.2ms | ActiveRecord: 10.4ms)


Started POST "/accounts/deposit/1/2" for 127.0.0.1 at 2018-03-19 15:44:15 -0300
Processing by AccountsController#deposit as */*
  Parameters: {"amount"=>"1", "source_account_id"=>"1", "destination_account_id"=>"2"}
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE (id = 1)[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE (id = 2)[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAccount Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "accounts" WHERE "accounts"."number" = ? AND ("accounts"."id" != ?) LIMIT ?[0m  [["number", "6008/02020"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "accounts" SET "balance" = ?, "updated_at" = ? WHERE "accounts"."id" = ?[0m  [["balance", 53022.0], ["updated_at", "2018-03-19 18:44:15.075796"], ["id", 2]]
  [1m[35m (4.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAccount Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "accounts" WHERE "accounts"."number" = ? AND ("accounts"."id" != ?) LIMIT ?[0m  [["number", "5007/01010"], ["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "accounts" SET "balance" = ?, "updated_at" = ? WHERE "accounts"."id" = ?[0m  [["balance", 46978.0], ["updated_at", "2018-03-19 18:44:15.083934"], ["id", 1]]
  [1m[35m (4.6ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 18ms (Views: 0.3ms | ActiveRecord: 10.4ms)


Started POST "/accounts/deposit/1/2" for 127.0.0.1 at 2018-03-19 15:44:34 -0300
Processing by AccountsController#deposit as */*
  Parameters: {"amount"=>"1", "source_account_id"=>"1", "destination_account_id"=>"2"}
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE (id = 1)[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE (id = 2)[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAccount Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "accounts" WHERE "accounts"."number" = ? AND ("accounts"."id" != ?) LIMIT ?[0m  [["number", "6008/02020"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "accounts" SET "balance" = ?, "updated_at" = ? WHERE "accounts"."id" = ?[0m  [["balance", 53023.0], ["updated_at", "2018-03-19 18:44:34.461969"], ["id", 2]]
  [1m[35m (4.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAccount Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "accounts" WHERE "accounts"."number" = ? AND ("accounts"."id" != ?) LIMIT ?[0m  [["number", "5007/01010"], ["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "balance" = ?, "updated_at" = ? WHERE "accounts"."id" = ?[0m  [["balance", 46977.0], ["updated_at", "2018-03-19 18:44:34.469771"], ["id", 1]]
  [1m[35m (4.8ms)[0m  [1m[36mcommit transaction[0m
Completed 500 Internal Server Error in 24ms (ActiveRecord: 11.0ms)


  
NoMethodError (undefined method `status_code' for #<Hash:0x007f95742ecc08>):
  
app/controllers/accounts_controller.rb:54:in `deposit'
Started POST "/accounts/deposit/1/2" for 127.0.0.1 at 2018-03-19 15:44:41 -0300
Processing by AccountsController#deposit as */*
  Parameters: {"amount"=>"1", "source_account_id"=>"1", "destination_account_id"=>"2"}
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE (id = 1)[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE (id = 2)[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAccount Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "accounts" WHERE "accounts"."number" = ? AND ("accounts"."id" != ?) LIMIT ?[0m  [["number", "6008/02020"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "accounts" SET "balance" = ?, "updated_at" = ? WHERE "accounts"."id" = ?[0m  [["balance", 53024.0], ["updated_at", "2018-03-19 18:44:41.356561"], ["id", 2]]
  [1m[35m (4.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAccount Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "accounts" WHERE "accounts"."number" = ? AND ("accounts"."id" != ?) LIMIT ?[0m  [["number", "5007/01010"], ["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "accounts" SET "balance" = ?, "updated_at" = ? WHERE "accounts"."id" = ?[0m  [["balance", 46976.0], ["updated_at", "2018-03-19 18:44:41.365096"], ["id", 1]]
  [1m[35m (4.5ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 19ms (Views: 0.2ms | ActiveRecord: 10.6ms)


Started POST "/accounts/deposit/1/2" for 127.0.0.1 at 2018-03-19 15:44:50 -0300
Processing by AccountsController#deposit as */*
  Parameters: {"amount"=>"1", "source_account_id"=>"1", "destination_account_id"=>"2"}
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE (id = 1)[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE (id = 2)[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAccount Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "accounts" WHERE "accounts"."number" = ? AND ("accounts"."id" != ?) LIMIT ?[0m  [["number", "6008/02020"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "accounts" SET "balance" = ?, "updated_at" = ? WHERE "accounts"."id" = ?[0m  [["balance", 53025.0], ["updated_at", "2018-03-19 18:44:50.737975"], ["id", 2]]
  [1m[35m (4.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAccount Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "accounts" WHERE "accounts"."number" = ? AND ("accounts"."id" != ?) LIMIT ?[0m  [["number", "5007/01010"], ["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "accounts" SET "balance" = ?, "updated_at" = ? WHERE "accounts"."id" = ?[0m  [["balance", 46975.0], ["updated_at", "2018-03-19 18:44:50.746090"], ["id", 1]]
  [1m[35m (4.7ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 19ms (Views: 0.2ms | ActiveRecord: 10.7ms)


Started POST "/accounts/deposit/1/2" for 127.0.0.1 at 2018-03-19 15:47:56 -0300
Processing by AccountsController#deposit as */*
  Parameters: {"amount"=>"1", "source_account_id"=>"1", "destination_account_id"=>"2"}
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE (id = 1)[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE (id = 2)[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAccount Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "accounts" WHERE "accounts"."number" = ? AND ("accounts"."id" != ?) LIMIT ?[0m  [["number", "6008/02020"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "accounts" SET "balance" = ?, "updated_at" = ? WHERE "accounts"."id" = ?[0m  [["balance", 53026.0], ["updated_at", "2018-03-19 18:47:56.383563"], ["id", 2]]
  [1m[35m (4.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAccount Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "accounts" WHERE "accounts"."number" = ? AND ("accounts"."id" != ?) LIMIT ?[0m  [["number", "5007/01010"], ["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "accounts" SET "balance" = ?, "updated_at" = ? WHERE "accounts"."id" = ?[0m  [["balance", 46974.0], ["updated_at", "2018-03-19 18:47:56.391446"], ["id", 1]]
  [1m[35m (4.5ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 18ms (Views: 0.2ms | ActiveRecord: 10.5ms)


Started POST "/accounts/deposit/1/2" for 127.0.0.1 at 2018-03-19 15:48:02 -0300
Processing by AccountsController#deposit as */*
  Parameters: {"amount"=>"1", "source_account_id"=>"1", "destination_account_id"=>"2"}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE (id = 1)[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE (id = 2)[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAccount Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "accounts" WHERE "accounts"."number" = ? AND ("accounts"."id" != ?) LIMIT ?[0m  [["number", "6008/02020"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "accounts" SET "balance" = ?, "updated_at" = ? WHERE "accounts"."id" = ?[0m  [["balance", 53027.0], ["updated_at", "2018-03-19 18:48:02.359544"], ["id", 2]]
  [1m[35m (4.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAccount Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "accounts" WHERE "accounts"."number" = ? AND ("accounts"."id" != ?) LIMIT ?[0m  [["number", "5007/01010"], ["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "accounts" SET "balance" = ?, "updated_at" = ? WHERE "accounts"."id" = ?[0m  [["balance", 46973.0], ["updated_at", "2018-03-19 18:48:02.368388"], ["id", 1]]
  [1m[35m (4.5ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 21ms (Views: 0.3ms | ActiveRecord: 10.9ms)


Started POST "/accounts/deposit/1/2" for 127.0.0.1 at 2018-03-19 15:49:15 -0300
Processing by AccountsController#deposit as */*
  Parameters: {"amount"=>"1", "source_account_id"=>"1", "destination_account_id"=>"2"}
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE (id = 1)[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE (id = 2)[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAccount Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "accounts" WHERE "accounts"."number" = ? AND ("accounts"."id" != ?) LIMIT ?[0m  [["number", "6008/02020"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "accounts" SET "balance" = ?, "updated_at" = ? WHERE "accounts"."id" = ?[0m  [["balance", 53028.0], ["updated_at", "2018-03-19 18:49:15.651414"], ["id", 2]]
  [1m[35m (5.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAccount Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "accounts" WHERE "accounts"."number" = ? AND ("accounts"."id" != ?) LIMIT ?[0m  [["number", "5007/01010"], ["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "balance" = ?, "updated_at" = ? WHERE "accounts"."id" = ?[0m  [["balance", 46972.0], ["updated_at", "2018-03-19 18:49:15.660196"], ["id", 1]]
  [1m[35m (4.8ms)[0m  [1m[36mcommit transaction[0m
Completed 500 Internal Server Error in 21ms (ActiveRecord: 11.4ms)


  
TypeError (no implicit conversion of Hash into String):
  
app/controllers/accounts_controller.rb:54:in `deposit'
Started POST "/accounts/deposit/1/2" for 127.0.0.1 at 2018-03-19 15:49:32 -0300
Processing by AccountsController#deposit as */*
  Parameters: {"amount"=>"1", "source_account_id"=>"1", "destination_account_id"=>"2"}
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE (id = 1)[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE (id = 2)[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAccount Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "accounts" WHERE "accounts"."number" = ? AND ("accounts"."id" != ?) LIMIT ?[0m  [["number", "6008/02020"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "accounts" SET "balance" = ?, "updated_at" = ? WHERE "accounts"."id" = ?[0m  [["balance", 53029.0], ["updated_at", "2018-03-19 18:49:32.068911"], ["id", 2]]
  [1m[35m (4.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAccount Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "accounts" WHERE "accounts"."number" = ? AND ("accounts"."id" != ?) LIMIT ?[0m  [["number", "5007/01010"], ["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "balance" = ?, "updated_at" = ? WHERE "accounts"."id" = ?[0m  [["balance", 46971.0], ["updated_at", "2018-03-19 18:49:32.077738"], ["id", 1]]
  [1m[35m (4.6ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 20ms (Views: 0.2ms | ActiveRecord: 10.7ms)


Started POST "/accounts/deposit/1/2" for 127.0.0.1 at 2018-03-19 15:49:40 -0300
Processing by AccountsController#deposit as */*
  Parameters: {"amount"=>"-1", "source_account_id"=>"1", "destination_account_id"=>"2"}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE (id = 1)[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE (id = 2)[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.3ms)


Started POST "/accounts/deposit/1/2" for 127.0.0.1 at 2018-03-19 15:50:19 -0300
Processing by AccountsController#deposit as */*
  Parameters: {"amount"=>"-1", "source_account_id"=>"1", "destination_account_id"=>"2"}
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE (id = 1)[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE (id = 2)[0m
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.4ms)


Started POST "/accounts/deposit/1/2" for 127.0.0.1 at 2018-03-19 15:50:42 -0300
Processing by AccountsController#deposit as */*
  Parameters: {"amount"=>"-1", "source_account_id"=>"1", "destination_account_id"=>"2"}
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE (id = 1)[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE (id = 2)[0m
Completed 301 Moved Permanently in 3ms (Views: 0.2ms | ActiveRecord: 0.5ms)


Started POST "/accounts/deposit/1/2" for 127.0.0.1 at 2018-03-19 15:51:16 -0300
Processing by AccountsController#deposit as */*
  Parameters: {"amount"=>"-1", "source_account_id"=>"1", "destination_account_id"=>"2"}
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE (id = 1)[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE (id = 2)[0m
Completed 204 No Content in 3ms (ActiveRecord: 0.5ms)


Started POST "/accounts/deposit/1/2" for 127.0.0.1 at 2018-03-19 15:51:18 -0300
Processing by AccountsController#deposit as */*
  Parameters: {"amount"=>"-1", "source_account_id"=>"1", "destination_account_id"=>"2"}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE (id = 1)[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE (id = 2)[0m
Completed 204 No Content in 2ms (ActiveRecord: 0.4ms)


Started POST "/accounts/deposit/1/2" for 127.0.0.1 at 2018-03-19 15:51:25 -0300
Processing by AccountsController#deposit as */*
  Parameters: {"amount"=>"-1", "source_account_id"=>"1", "destination_account_id"=>"2"}
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE (id = 1)[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE (id = 2)[0m
Completed 204 No Content in 2ms (ActiveRecord: 0.4ms)


Started POST "/accounts/deposit/1/2" for 127.0.0.1 at 2018-03-19 15:51:40 -0300
Processing by AccountsController#deposit as */*
  Parameters: {"amount"=>"-1", "source_account_id"=>"1", "destination_account_id"=>"2"}
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE (id = 1)[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE (id = 2)[0m
Completed 200 OK in 3ms (Views: 0.3ms | ActiveRecord: 0.6ms)


Started POST "/accounts/deposit/1/2" for 127.0.0.1 at 2018-03-19 16:13:34 -0300
  
SyntaxError (/home/diego/vhost/ruby/rails/api/app/controllers/accounts_controller.rb:54: syntax error, unexpected tIDENTIFIER, expecting keyword_end
rn render status: bank[0] json: bank[1]
                              ^):
  
app/controllers/accounts_controller.rb:54: syntax error, unexpected tIDENTIFIER, expecting keyword_end
Started POST "/accounts/deposit/1/2" for 127.0.0.1 at 2018-03-19 16:14:21 -0300
  
SyntaxError (/home/diego/vhost/ruby/rails/api/app/controllers/accounts_controller.rb:54: syntax error, unexpected tIDENTIFIER, expecting keyword_end
rn render status: bank[0] json: bank[1]
                              ^):
  
app/controllers/accounts_controller.rb:54: syntax error, unexpected tIDENTIFIER, expecting keyword_end
Started POST "/accounts/deposit/1/2" for 127.0.0.1 at 2018-03-19 16:14:35 -0300
  
SyntaxError (/home/diego/vhost/ruby/rails/api/app/controllers/accounts_controller.rb:54: syntax error, unexpected tIDENTIFIER, expecting keyword_end
rn render status: bank[0] json: bank[1]
                              ^):
  
app/controllers/accounts_controller.rb:54: syntax error, unexpected tIDENTIFIER, expecting keyword_end
Started POST "/accounts/deposit/1/2" for 127.0.0.1 at 2018-03-19 16:14:47 -0300
Processing by AccountsController#deposit as */*
  Parameters: {"amount"=>"-1", "source_account_id"=>"1", "destination_account_id"=>"2"}
Completed 200 OK in 1ms (Views: 0.2ms)


Started POST "/accounts/deposit/1/2" for 127.0.0.1 at 2018-03-19 16:14:58 -0300
Processing by AccountsController#deposit as */*
  Parameters: {"amount"=>"-1", "source_account_id"=>"1", "destination_account_id"=>"2"}
Completed 200 OK in 1ms (Views: 0.1ms)


Started POST "/accounts/deposit/1/2" for 127.0.0.1 at 2018-03-19 16:15:12 -0300
Processing by AccountsController#deposit as */*
  Parameters: {"amount"=>"-1", "source_account_id"=>"1", "destination_account_id"=>"2"}
Completed 200 OK in 1ms (Views: 0.1ms)


Started POST "/accounts/deposit/1/2" for 127.0.0.1 at 2018-03-19 16:16:52 -0300
Processing by AccountsController#deposit as */*
  Parameters: {"amount"=>"-1", "source_account_id"=>"1", "destination_account_id"=>"2"}
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE (id = 1)[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE (id = 2)[0m
Completed 401 Unauthorized in 3ms (Views: 0.2ms | ActiveRecord: 0.5ms)


Started POST "/accounts/deposit/1/2" for 127.0.0.1 at 2018-03-19 16:17:01 -0300
Processing by AccountsController#deposit as */*
  Parameters: {"amount"=>"10", "source_account_id"=>"1", "destination_account_id"=>"2"}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE (id = 1)[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE (id = 2)[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAccount Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "accounts" WHERE "accounts"."number" = ? AND ("accounts"."id" != ?) LIMIT ?[0m  [["number", "6008/02020"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "accounts" SET "balance" = ?, "updated_at" = ? WHERE "accounts"."id" = ?[0m  [["balance", 53039.0], ["updated_at", "2018-03-19 19:17:01.284059"], ["id", 2]]
  [1m[35m (4.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAccount Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "accounts" WHERE "accounts"."number" = ? AND ("accounts"."id" != ?) LIMIT ?[0m  [["number", "5007/01010"], ["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "accounts" SET "balance" = ?, "updated_at" = ? WHERE "accounts"."id" = ?[0m  [["balance", 46961.0], ["updated_at", "2018-03-19 19:17:01.292790"], ["id", 1]]
  [1m[35m (4.8ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 19ms (Views: 0.2ms | ActiveRecord: 10.6ms)


Started POST "/accounts/deposit/1/2" for 127.0.0.1 at 2018-03-19 16:17:12 -0300
Processing by AccountsController#deposit as */*
  Parameters: {"amount"=>"10", "source_account_id"=>"1", "destination_account_id"=>"2"}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE (id = 1)[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE (id = 2)[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAccount Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "accounts" WHERE "accounts"."number" = ? AND ("accounts"."id" != ?) LIMIT ?[0m  [["number", "6008/02020"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "accounts" SET "balance" = ?, "updated_at" = ? WHERE "accounts"."id" = ?[0m  [["balance", 53049.0], ["updated_at", "2018-03-19 19:17:12.369655"], ["id", 2]]
  [1m[35m (4.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAccount Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "accounts" WHERE "accounts"."number" = ? AND ("accounts"."id" != ?) LIMIT ?[0m  [["number", "5007/01010"], ["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "accounts" SET "balance" = ?, "updated_at" = ? WHERE "accounts"."id" = ?[0m  [["balance", 46951.0], ["updated_at", "2018-03-19 19:17:12.376449"], ["id", 1]]
  [1m[35m (4.5ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 18ms (Views: 0.2ms | ActiveRecord: 10.4ms)


Started POST "/accounts/deposit/1/2" for 127.0.0.1 at 2018-03-19 16:17:18 -0300
Processing by AccountsController#deposit as */*
  Parameters: {"amount"=>"-10", "source_account_id"=>"1", "destination_account_id"=>"2"}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE (id = 1)[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE (id = 2)[0m
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.3ms)


Started GET "/accounts" for 127.0.0.1 at 2018-03-19 16:17:32 -0300
Processing by AccountsController#index as */*
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.2ms)


Started GET "/accounts" for 127.0.0.1 at 2018-03-19 16:18:36 -0300
Processing by AccountsController#index as */*
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.3ms)


Started GET "/accounts/balance/1" for 127.0.0.1 at 2018-03-19 16:18:55 -0300
Processing by AccountsController#balance as */*
  Parameters: {"account_id"=>"1"}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE (id = 1)[0m
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.2ms)


Started GET "/accounts/balance/2" for 127.0.0.1 at 2018-03-19 16:19:01 -0300
Processing by AccountsController#balance as */*
  Parameters: {"account_id"=>"2"}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE (id = 2)[0m
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.2ms)


Started GET "/accounts/balance/8528" for 127.0.0.1 at 2018-03-19 16:19:09 -0300
Processing by AccountsController#balance as */*
  Parameters: {"account_id"=>"8528"}
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE (id = 8528)[0m
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms)


Started GET "/accounts/balance/8528" for 127.0.0.1 at 2018-03-19 16:20:50 -0300
Processing by AccountsController#balance as */*
  Parameters: {"account_id"=>"8528"}
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE (id = 8528)[0m
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.4ms)


Started GET "/accounts/balance/1" for 127.0.0.1 at 2018-03-19 16:20:56 -0300
Processing by AccountsController#balance as */*
  Parameters: {"account_id"=>"1"}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE (id = 1)[0m
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.2ms)


Started GET "/" for 127.0.0.1 at 2018-03-22 20:54:10 -0300
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Rails::WelcomeController#index as HTML
  Rendering /usr/share/rvm/gems/ruby-2.4.1/gems/railties-5.1.5/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /usr/share/rvm/gems/ruby-2.4.1/gems/railties-5.1.5/lib/rails/templates/rails/welcome/index.html.erb (2.6ms)
Completed 200 OK in 7ms (Views: 5.6ms | ActiveRecord: 0.0ms)


Started GET "/favicon.ico" for 127.0.0.1 at 2018-03-22 20:54:11 -0300
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
actionpack (5.1.5) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
actionpack (5.1.5) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.5) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.5) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.5) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.5) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.5) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.5) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.1.5) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.5) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.4) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.5) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.5) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.5) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.4) lib/rack/sendfile.rb:111:in `call'
railties (5.1.5) lib/rails/engine.rb:522:in `call'
puma (3.11.3) lib/puma/configuration.rb:225:in `call'
puma (3.11.3) lib/puma/server.rb:624:in `handle_request'
puma (3.11.3) lib/puma/server.rb:438:in `process_client'
puma (3.11.3) lib/puma/server.rb:302:in `block in run'
puma (3.11.3) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/accounts" for 127.0.0.1 at 2018-03-22 20:54:21 -0300
Processing by AccountsController#index as HTML
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
Completed 200 OK in 20ms (Views: 18.8ms | ActiveRecord: 0.8ms)


Started GET "/accounts" for 127.0.0.1 at 2018-03-22 21:18:56 -0300
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AccountsController#index as HTML
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
Completed 200 OK in 7ms (Views: 5.8ms | ActiveRecord: 0.7ms)


Started GET "/accounts/1" for 127.0.0.1 at 2018-03-22 21:19:42 -0300
Processing by AccountsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.6ms | ActiveRecord: 0.6ms)


Started GET "//accounts/balance/1" for 127.0.0.1 at 2018-03-22 21:20:09 -0300
Processing by AccountsController#balance as HTML
  Parameters: {"account_id"=>"1"}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE (id = 1)[0m
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.2ms)


Started POST "/accounts/deposit/1/2" for 127.0.0.1 at 2018-03-22 21:21:00 -0300
Processing by AccountsController#deposit as */*
  Parameters: {"amount"=>"-10", "source_account_id"=>"1", "destination_account_id"=>"2"}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE (id = 1)[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE (id = 2)[0m
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.4ms)


Started POST "/accounts/deposit/1/2" for 127.0.0.1 at 2018-03-22 21:21:15 -0300
Processing by AccountsController#deposit as */*
  Parameters: {"amount"=>"10", "source_account_id"=>"1", "destination_account_id"=>"2"}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE (id = 1)[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE (id = 2)[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAccount Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "accounts" WHERE "accounts"."number" = ? AND ("accounts"."id" != ?) LIMIT ?[0m  [["number", "6008/02020"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "accounts" SET "balance" = ?, "updated_at" = ? WHERE "accounts"."id" = ?[0m  [["balance", 53059.0], ["updated_at", "2018-03-23 00:21:15.599937"], ["id", 2]]
  [1m[35m (9.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAccount Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "accounts" WHERE "accounts"."number" = ? AND ("accounts"."id" != ?) LIMIT ?[0m  [["number", "5007/01010"], ["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "balance" = ?, "updated_at" = ? WHERE "accounts"."id" = ?[0m  [["balance", 46941.0], ["updated_at", "2018-03-23 00:21:15.616391"], ["id", 1]]
  [1m[35m (4.5ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 31ms (Views: 0.3ms | ActiveRecord: 15.9ms)


  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "//accounts/balance/1" for 127.0.0.1 at 2018-03-22 21:31:23 -0300
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate RAILS_ENV=development

):
  
activerecord (5.1.5) lib/active_record/migration.rb:576:in `check_pending!'
activerecord (5.1.5) lib/active_record/migration.rb:553:in `call'
actionpack (5.1.5) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.5) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.5) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.5) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.5) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
actionpack (5.1.5) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.5) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.5) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.5) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.5) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.5) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.5) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.1.5) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.5) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.4) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.5) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.5) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.5) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.4) lib/rack/sendfile.rb:111:in `call'
railties (5.1.5) lib/rails/engine.rb:522:in `call'
puma (3.11.3) lib/puma/configuration.rb:225:in `call'
puma (3.11.3) lib/puma/server.rb:624:in `handle_request'
puma (3.11.3) lib/puma/server.rb:438:in `process_client'
puma (3.11.3) lib/puma/server.rb:302:in `block in run'
puma (3.11.3) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (9.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (7.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateAccounts (20180318153205)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_name" varchar, "number" varchar, "balance" decimal, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180318153205"]]
  [1m[35m (7.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2018-03-23 00:31:35.162668"], ["updated_at", "2018-03-23 00:31:35.162668"]]
  [1m[35m (4.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "//accounts/balance/1" for 127.0.0.1 at 2018-03-22 21:31:44 -0300
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AccountsController#balance as HTML
  Parameters: {"account_id"=>"1"}
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE (id = 1)[0m
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.4ms)


  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAccount Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "accounts" WHERE "accounts"."number" = ? LIMIT ?[0m  [["number", "5007/01010"], ["LIMIT", 1]]
  [1m[35mSQL (2.4ms)[0m  [1m[32mINSERT INTO "accounts" ("user_name", "number", "balance", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_name", "Renan Brocanelli"], ["number", "5007/01010"], ["balance", 50000.0], ["created_at", "2018-03-23 00:32:09.516505"], ["updated_at", "2018-03-23 00:32:09.516505"]]
  [1m[35m (6.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAccount Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "accounts" WHERE "accounts"."number" = ? LIMIT ?[0m  [["number", "6008/02020"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("user_name", "number", "balance", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_name", "Sophia Brocanelli"], ["number", "6008/02020"], ["balance", 50000.0], ["created_at", "2018-03-23 00:32:09.529995"], ["updated_at", "2018-03-23 00:32:09.529995"]]
  [1m[35m (6.4ms)[0m  [1m[36mcommit transaction[0m
Started GET "//accounts/balance/1" for 127.0.0.1 at 2018-03-22 21:32:15 -0300
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AccountsController#balance as HTML
  Parameters: {"account_id"=>"1"}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE (id = 1)[0m
Completed 200 OK in 8ms (Views: 0.2ms | ActiveRecord: 0.8ms)


Started GET "//accounts/balance/1" for 127.0.0.1 at 2018-03-22 21:32:44 -0300
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate RAILS_ENV=development

):
  
activerecord (5.1.5) lib/active_record/migration.rb:576:in `check_pending!'
activerecord (5.1.5) lib/active_record/migration.rb:553:in `call'
actionpack (5.1.5) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.5) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.5) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.5) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.5) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
actionpack (5.1.5) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.5) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.5) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.5) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.5) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.5) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.5) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.1.5) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.5) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.4) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.5) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.5) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.5) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.4) lib/rack/sendfile.rb:111:in `call'
railties (5.1.5) lib/rails/engine.rb:522:in `call'
puma (3.11.3) lib/puma/configuration.rb:225:in `call'
puma (3.11.3) lib/puma/server.rb:624:in `handle_request'
puma (3.11.3) lib/puma/server.rb:438:in `process_client'
puma (3.11.3) lib/puma/server.rb:302:in `block in run'
puma (3.11.3) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (8.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (8.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateAccounts (20180318153205)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_name" varchar, "number" varchar, "balance" decimal, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180318153205"]]
  [1m[35m (7.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2018-03-23 00:32:53.302259"], ["updated_at", "2018-03-23 00:32:53.302259"]]
  [1m[35m (6.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "//accounts/balance/1" for 127.0.0.1 at 2018-03-22 21:32:56 -0300
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AccountsController#balance as HTML
  Parameters: {"account_id"=>"1"}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE (id = 1)[0m
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.5ms)


  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAccount Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "accounts" WHERE "accounts"."number" = ? LIMIT ?[0m  [["number", "5007/01010"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "accounts" ("user_name", "number", "balance", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_name", "Renan Brocanelli"], ["number", "5007/01010"], ["balance", 50000.0], ["created_at", "2018-03-23 00:33:04.426731"], ["updated_at", "2018-03-23 00:33:04.426731"]]
  [1m[35m (7.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAccount Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "accounts" WHERE "accounts"."number" = ? LIMIT ?[0m  [["number", "6008/02020"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("user_name", "number", "balance", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_name", "Sophia Brocanelli"], ["number", "6008/02020"], ["balance", 50000.0], ["created_at", "2018-03-23 00:33:04.438109"], ["updated_at", "2018-03-23 00:33:04.438109"]]
  [1m[35m (4.4ms)[0m  [1m[36mcommit transaction[0m
Started GET "//accounts/balance/1" for 127.0.0.1 at 2018-03-22 21:33:07 -0300
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AccountsController#balance as HTML
  Parameters: {"account_id"=>"1"}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE (id = 1)[0m
Completed 200 OK in 7ms (Views: 0.2ms | ActiveRecord: 0.9ms)


